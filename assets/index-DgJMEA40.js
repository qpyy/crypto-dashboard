import{j as e,d as K,r as m,u as ie,b as ge,L as Y,I as ye,e as be,O as ve,f as we,H as Ne,h as ke,i as I,k as Ce,Q as Ae}from"./react-DJ_9RHe5.js";import{p as le,b as De}from"./state-Dlb2LD6M.js";import{v as $,p as Se}from"./vendor-D3xY8pVX.js";import{R as de,A as ze,C as Re,X as Pe,Y as Ie,a as Fe,T as Le,B as Ee,S as H,P as Oe,b as Te,c as Be}from"./charts-Dk97Lqk3.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const Me="_button_1f06w_1",We="_primary_1f06w_25",Ue="_secondary_1f06w_39",Xe="_danger_1f06w_53",$e="_warning_1f06w_67",qe="_sm_1f06w_81",Ke="_md_1f06w_93",Ye="_lg_1f06w_105",He="_fullWidth_1f06w_131",W={button:Me,primary:We,secondary:Ue,danger:Xe,warning:$e,sm:qe,md:Ke,lg:Ye,fullWidth:He},A=({variant:t="primary",size:s="md",type:n="button",fullWidth:o,children:r,className:a,...c})=>e.jsx("button",{type:n,className:[W.button,W[t],W[s],o?W.fullWidth:"",a??""].filter(Boolean).join(" "),...c,children:r}),C=K(t=>({queue:[],showSnackbar:(s,n="info",o=3e3)=>{const r=$();t(a=>({queue:[...a.queue,{id:r,message:s,type:n,duration:o}]}))},removeSnackbar:s=>{t(n=>({queue:n.queue.filter(o=>o.id!==s)}))}})),E=K()(le(t=>({portfolio:[{id:"usd",name:"USD",amount:1e6,avgPrice:1}],operations:[],buy:(s,n,o,r)=>t(a=>{const c=o*r,i=a.portfolio.find(h=>h.id==="usd");if(!i||i.amount<c){const{showSnackbar:h}=C.getState();return h("Недостаточно средств для покупки!","error"),a}const d=i.amount-c,l=a.portfolio.find(h=>h.id===s),u=l?{...l,amount:l.amount+r,avgPrice:(l.avgPrice*l.amount+o*r)/(l.amount+r)}:{id:s,name:n,amount:r,avgPrice:o},_=[...a.portfolio.filter(h=>h.id!==s&&h.id!=="usd"),u,{...i,amount:d}],f={operationId:$(),id:s,name:n,type:"buy",price:o,amount:r,total:c,date:new Date().toISOString()},{showSnackbar:g}=C.getState();g(`Вы купили ${r} ${n} за $${c.toFixed(2)}`,"success");const p=[...a.operations,f].slice(-1e3);return{portfolio:_,operations:p}}),sell:(s,n,o)=>t(r=>{const a=r.portfolio.find(x=>x.id===s);if(!a){const{showSnackbar:x}=C.getState();return x("Невозможно продать: актив не найден","error"),r}const c=Math.min(o,a.amount);if(c<=0)return r;const i=(n||0)*c,d=a.amount-c,l=r.portfolio.find(x=>x.id==="usd"),u=(l?.amount||0)+i,_=d>0?{...a,amount:d}:null,f=[...r.portfolio.filter(x=>x.id!==s&&x.id!=="usd"),..._?[_]:[],{...l,amount:u}],g={operationId:$(),id:s,name:a.name,type:"sell",price:n,amount:c,total:i,date:new Date().toISOString()},{showSnackbar:p}=C.getState();p(`Вы продали ${c} ${a.name} за $${i.toFixed(2)}`,"info");const h=[...r.operations,g].slice(-1e3);return{portfolio:f,operations:h}}),reset:()=>t({portfolio:[{id:"usd",name:"USD",amount:1e6,avgPrice:1}],operations:[]})}),{name:"portfolio-storage",version:1,migrate:t=>{if(!t)return t;const s=t,n=s.operations?.map(o=>o.operationId?o:{...o,operationId:$()});return{...s,operations:n}}})),v=K(t=>({prices:{usd:1},selectedAsset:"bitcoin",setPrice:(s,n)=>t(o=>({prices:{...o.prices,[s]:n}})),setPrices:s=>t(n=>({prices:{...n.prices,...s}})),setSelectedAsset:s=>t({selectedAsset:s})})),ue=t=>s=>s.prices[t]??0,me=t=>t.prices,ee=t=>t.selectedAsset,O={bitcoin:"Bitcoin",ethereum:"Ethereum",binancecoin:"Binance Coin",cardano:"Cardano",solana:"Solana",ripple:"XRP",polkadot:"Polkadot",dogecoin:"Dogecoin",litecoin:"Litecoin",chainlink:"Chainlink"},pe=Object.keys(O),Ge="_panel_ggnsr_1",Ze="_controls_ggnsr_17",Ve="_input_ggnsr_23",Je="_adjust_ggnsr_61",Qe="_actionButtons_ggnsr_94",et="_sellAllWrapper_ggnsr_114",D={panel:Ge,controls:Ze,input:Ve,adjust:Je,actionButtons:Qe,sellAllWrapper:et};function tt(){const t=v(ee),s=v(ue(t)),{portfolio:n,buy:o,sell:r}=E(),[a,c]=m.useState(0),i=1e-4,d=n.find(x=>x.id===t)?.amount||0,l=O[t]||t,u=()=>c(x=>Math.max(Math.round((x-i)*1e5)/1e5,0)),_=()=>c(x=>Math.round((x+i)*1e5)/1e5),f=x=>{const P=Math.max(Number(x),0);c(Math.round(P*1e5)/1e5)},g=()=>{!t||s<=0||a<=0||o(t,l,s,a)},p=()=>{!t||a<=0||r(t,s,a)},h=()=>{!t||d<=0||r(t,s,d)};return e.jsxs("div",{className:D.panel,children:[e.jsxs("div",{className:D.controls,children:[e.jsx("button",{type:"button",className:D.adjust,onClick:u,children:"-"}),e.jsx("input",{type:"number",value:a.toFixed(4),min:0,step:i,onChange:x=>f(x.target.value),className:D.input}),e.jsx("button",{type:"button",className:D.adjust,onClick:_,children:"+"})]}),e.jsxs("div",{className:D.actionButtons,children:[e.jsx(A,{variant:"primary",size:"md",onClick:g,disabled:s<=0||a<=0,children:"Купить"}),e.jsx(A,{variant:"danger",size:"md",onClick:p,disabled:a<=0||a>d,children:"Продать"})]}),e.jsx("div",{className:D.sellAllWrapper,children:e.jsx(A,{fullWidth:!0,variant:"warning",size:"md",onClick:h,disabled:d<=0,children:"Продать всё"})})]})}const he=K()(le((t,s)=>({theme:"dark",setTheme:n=>t({theme:n}),toggleTheme:()=>t({theme:s().theme==="dark"?"light":"dark"})}),{name:"theme-storage"})),st="_chartContainer_znump_1",nt="_chartTitle_znump_15",re={chartContainer:st,chartTitle:nt},G=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t);function J(t){return typeof t!="number"?String(t):t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toFixed(2)}const oe=["#4caf50","#f44336","#2196f3","#ff9800","#9c27b0","#00bcd4","#ffc107","#e91e63"],y={primary:"#1976d2",secondary:"#4caf50",gridLight:"#e0e0e0",gridDark:"#444",axisLight:"#213547",axisDark:"#bbb",tooltipBgLight:"#f5f5f5",tooltipBgDark:"#333",tooltipTextLight:"#213547",tooltipTextDark:"#fff"},rt={light:{stroke:y.primary,grid:y.gridLight,axis:y.axisLight,tooltipBg:y.tooltipBgLight,tooltipText:y.tooltipTextLight,brush:y.primary},dark:{stroke:y.secondary,grid:y.gridDark,axis:y.axisDark,tooltipBg:y.tooltipBgDark,tooltipText:y.tooltipTextDark,brush:y.secondary}};function ot({data:t,dataKey:s,xKey:n="time",title:o,height:r=300,yDomain:a=["auto","auto"]}){const{theme:c}=he(),i=rt[c],d=!t||t.length===0,[l,u]=m.useState({}),_=m.useMemo(()=>d?Array.from({length:10},(f,g)=>({[n]:g})):t,[t,d,n]);return e.jsxs("div",{className:re.chartContainer,children:[o&&e.jsx("h3",{className:re.chartTitle,children:o}),e.jsx(de,{width:"100%",height:r,children:e.jsxs(ze,{data:_,margin:{top:10,right:20,left:10,bottom:20},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"lineGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:i.stroke,stopOpacity:.3}),e.jsx("stop",{offset:"100%",stopColor:i.stroke,stopOpacity:0})]})}),e.jsx(Re,{stroke:i.grid,strokeDasharray:"3 3"}),e.jsx(Pe,{dataKey:n,tick:{fontSize:10,fill:i.axis}}),e.jsx(Ie,{domain:a,tick:{fill:i.axis},tickFormatter:J}),e.jsx(Fe,{type:"monotone",dataKey:s,stroke:i.stroke,strokeWidth:2,fill:"url(#lineGradient)",dot:!1,isAnimationActive:!0,animationDuration:2e3,animationEasing:"ease-in-out"}),e.jsx(Le,{contentStyle:{backgroundColor:i.tooltipBg,borderRadius:"6px"},itemStyle:{color:i.tooltipText},formatter:f=>[Number(f).toFixed(2),s]}),e.jsx(Ee,{dataKey:n,height:30,stroke:i.brush,startIndex:l.startIndex,endIndex:l.endIndex,onChange:f=>u(f)})]})})]})}const xe=Se.create({baseURL:"https://api.coingecko.com/api/v3"}),at=async()=>{const{data:t}=await xe.get("/simple/price",{params:{ids:pe.join(","),vs_currencies:"usd"}});return t},ct=async(t,s=1)=>{const{data:n}=await xe.get(`/coins/${t}/market_chart`,{params:{vs_currency:"usd",days:s}});return n.prices.map(([o,r])=>({time:new Date(o).toLocaleTimeString(),price:r}))},it=(t,s=1)=>{const{showSnackbar:n}=C(),o=m.useRef(null),r=ie({queryKey:["chart",t,s],queryFn:()=>ct(t,s),staleTime:6e4,refetchInterval:!1,retry:1});return m.useEffect(()=>{if(!r.isError){o.current=null;return}const a=r.error instanceof Error?r.error.message:"Ошибка при загрузке графика";o.current!==a&&(o.current=a,n(a,"error"))},[r.isError,r.error,n]),r};function lt(){const t=v(ee),{data:s}=it(t,1);return e.jsx(ot,{data:s,dataKey:"price",title:`График цены ${t.toUpperCase()}`,height:300})}const dt="_wrapper_1l2iz_1",ut="_sm_1l2iz_8",mt="_selected_1l2iz_8",pt="_md_1l2iz_18",ht="_lg_1l2iz_28",xt="_fullWidth_1l2iz_38",ft="_arrow_1l2iz_72",_t="_open_1l2iz_86",jt="_options_1l2iz_94",gt="_show_1l2iz_159",yt="_option_1l2iz_94",w={wrapper:dt,sm:ut,selected:mt,md:pt,lg:ht,fullWidth:xt,arrow:ft,open:_t,options:jt,show:gt,option:yt},fe=({value:t,options:s,onChange:n,size:o="md",fullWidth:r=!1,ariaLabel:a})=>{const[c,i]=m.useState(!1),d=m.useRef(null),l=m.useId(),u=()=>i(p=>!p),_=p=>{n(p),i(!1)},f=p=>{if(p.key==="Enter"||p.key===" "){p.preventDefault(),i(h=>!h);return}if(p.key==="Escape"){i(!1);return}if(p.key==="ArrowDown"||p.key==="ArrowUp"){if(p.preventDefault(),!s.length)return;const h=s.findIndex(T=>T.value===t),x=p.key==="ArrowDown"?1:-1,P=(h+x+s.length)%s.length;n(s[P].value),i(!0)}};m.useEffect(()=>{const p=h=>{d.current&&!d.current.contains(h.target)&&i(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const g=s.find(p=>p.value===t)?.label||"";return e.jsxs("div",{className:`${w.wrapper} ${w[o]} ${r?w.fullWidth:""}`,ref:d,children:[e.jsxs("div",{className:w.selected,onClick:u,onKeyDown:f,role:"button",tabIndex:0,"aria-label":a,"aria-haspopup":"listbox","aria-expanded":c,"aria-controls":l,children:[g,e.jsx("span",{className:`${w.arrow} ${c?w.open:""}`})]}),e.jsx("ul",{className:`${w.options} ${c?w.show:""}`,id:l,role:"listbox",children:s.map(p=>e.jsx("li",{className:w.option,onClick:()=>_(p.value),role:"option","aria-selected":p.value===t,children:p.label},p.value))})]})},te=()=>{const t=E(o=>o.operations),s=E(o=>o.portfolio),n=v(me);return m.useMemo(()=>{let o=0,r=0;for(const u of t)u.type==="buy"&&(o+=u.total),u.type==="sell"&&(r+=u.total);const a=s.find(u=>u.id==="usd")?.amount||0,c=s.filter(u=>u.id!=="usd").map(u=>{const _=n[u.id]||0,f=u.amount*_,g=f-u.amount*u.avgPrice;return{id:u.id,name:u.name,value:f,profit:g,amount:u.amount,avgPrice:u.avgPrice}}),i=c.reduce((u,_)=>u+_.profit,0),d=r-o,l=d+i;return{totalSpent:o,totalEarned:r,balance:a,realizedProfit:d,unrealizedProfit:i,netProfit:l,operationsCount:t.length,assetDistribution:c}},[t,s,n])},bt="_headerDashboard_13zv1_1",vt="_dashboardWrapper_13zv1_9",wt="_card_13zv1_20",Nt="_cardContent_13zv1_156",kt="_mono_13zv1_172",R={headerDashboard:bt,dashboardWrapper:vt,card:wt,cardContent:Nt,mono:kt},Ct=({label:t,value:s,color:n,custom:o})=>e.jsxs("div",{className:R.card,children:[e.jsx("h4",{children:t}),o&&e.jsx("div",{className:R.cardContent,children:o}),s!==void 0&&e.jsx("div",{className:R.cardContent,children:e.jsx("p",{className:R.mono,style:{color:n||"var(--text-color)"},children:s})})]});function At(){const{balance:t,realizedProfit:s,unrealizedProfit:n,operationsCount:o}=te(),r=v(ee),a=v(l=>l.setSelectedAsset),c=v(ue(r)),i=Object.keys(O).map(l=>({value:l,label:O[l]})),d=[{label:"Баланс",value:`$ ${t.toFixed(2)}`},{label:"Актив",custom:e.jsx(fe,{fullWidth:!0,value:r,options:i,onChange:a,ariaLabel:"Выбор актива"})},{label:"Стоимость актива",value:`$ ${c.toFixed(2)}`},{label:"Реализовано",value:`$ ${s.toFixed(2)}`,color:s>=0?"var(--primary-color)":"var(--error-color)"},{label:"В позициях",value:`$ ${n.toFixed(2)}`,color:n>=0?"var(--primary-color)":"var(--error-color)"},{label:"Операций",value:o}];return e.jsx("div",{className:R.headerDashboard,children:e.jsx("div",{className:R.dashboardWrapper,children:d.map(l=>e.jsx(Ct,{...l},l.label))})})}const Dt="_container_1x52e_13",St="_tradeChart_1x52e_27",U={container:Dt,tradeChart:St,"trade-panel-wrapper":"_trade-panel-wrapper_1x52e_43","chart-wrapper":"_chart-wrapper_1x52e_45"};function zt(){return e.jsxs("div",{className:U.container,children:[e.jsx(At,{}),e.jsxs("div",{className:U.tradeChart,children:[e.jsx("div",{className:U["trade-panel-wrapper"],children:e.jsx(tt,{})}),e.jsx("div",{className:U["chart-wrapper"],children:e.jsx(lt,{})})]})]})}const Rt="_wrapper_fzhc7_1",Pt="_label_fzhc7_13",It="_input_fzhc7_25",Ft="_error_fzhc7_58",Lt="_errorText_fzhc7_62",F={wrapper:Rt,label:Pt,input:It,error:Ft,errorText:Lt},q=m.forwardRef(({label:t,error:s,type:n="text",onChange:o,className:r,...a},c)=>{const i=m.useId(),d=a.id??i;return e.jsxs("div",{className:[F.wrapper,r??""].filter(Boolean).join(" "),children:[t&&e.jsx("label",{className:F.label,htmlFor:d,children:t}),e.jsx("input",{ref:c,type:n,id:d,className:[F.input,s?F.error:""].filter(Boolean).join(" "),onChange:l=>o?.(l.target.value),...a}),s&&e.jsx("span",{className:F.errorText,children:s})]})});q.displayName="CustomInput";function Et(t,s){const[n,o]=m.useState(t);return m.useEffect(()=>{const r=setTimeout(()=>o(t),s);return()=>clearTimeout(r)},[t,s]),n}const Ot=250,Tt=[{value:"",label:"Все типы"},{value:"buy",label:"Покупка"},{value:"sell",label:"Продажа"}],_e=t=>{const s=t.split("-").map(Number);if(s.length!==3||s.some(a=>Number.isNaN(a)))return new Date(t);const[n,o,r]=s;return new Date(n,o-1,r)},Bt=t=>_e(t).setHours(0,0,0,0),Mt=t=>_e(t).setHours(23,59,59,999),Wt=(t,s)=>{const n=s.dateFrom?Bt(s.dateFrom):null,o=s.dateTo?Mt(s.dateTo):null,r=s.asset.toLowerCase(),a=s.type;return t.filter(c=>{const i=c.name.toLowerCase(),d=new Date(c.date).getTime(),l=r?i.includes(r):!0,u=a?c.type===a:!0,_=n!==null?d>=n:!0,f=o!==null?d<=o:!0;return l&&u&&_&&f})},Ut="_wrapper_1o4pz_1",Xt={wrapper:Ut};function $t({operations:t,onFilterChange:s}){const[n,o]=m.useState({asset:"",type:"",dateFrom:"",dateTo:""}),r=Et(n.asset,Ot),a=(i,d)=>{o(l=>({...l,[i]:d}))},c=()=>{o({asset:"",type:"",dateFrom:"",dateTo:""})};return m.useEffect(()=>{const i=Wt(t,{...n,asset:r});s(i)},[r,n.type,n.dateFrom,n.dateTo,t,s]),e.jsxs("div",{className:Xt.wrapper,children:[e.jsx(q,{label:"Фильтр по активу",type:"text",placeholder:"Введите название",value:n.asset,onChange:i=>a("asset",i)}),e.jsx(fe,{value:n.type,options:Tt,onChange:i=>a("type",i),ariaLabel:"Тип операции"}),e.jsx(q,{label:"Дата от:",type:"date",value:n.dateFrom,onChange:i=>a("dateFrom",i)}),e.jsx(q,{label:"Дата до:",type:"date",value:n.dateTo,onChange:i=>a("dateTo",i)}),e.jsx(A,{variant:"primary",onClick:c,children:"Сбросить"})]})}const qt=""+new URL("bitcoin-BWaOyXha.webp",import.meta.url).href,Kt=""+new URL("ethereum-nirzYqqu.webp",import.meta.url).href,Yt=""+new URL("binance-coin-logo-Yml6teTr.webp",import.meta.url).href,Ht=""+new URL("cardano-Cdqyr_n4.webp",import.meta.url).href,Gt=""+new URL("solana-CA-LGfum.webp",import.meta.url).href,Zt=""+new URL("xrp-symbol-white-128-DBwqj-dV.webp",import.meta.url).href,Vt=""+new URL("polkadot-CsVkmZYX.webp",import.meta.url).href,Jt=""+new URL("dogecoin-CePZY1Vl.webp",import.meta.url).href,Qt="data:image/webp;base64,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",es=""+new URL("chainlink-new-logo-DXkRYzBA.webp",import.meta.url).href,ts={bitcoin:qt,ethereum:Kt,binancecoin:Yt,cardano:Ht,solana:Gt,ripple:Zt,polkadot:Vt,dogecoin:Jt,litecoin:Qt,chainlink:es},je=t=>ts[t.toLowerCase()],ss="_item_1y61i_1",ns="_top_1y61i_19",rs="_name_1y61i_33",os="_nameWrapper_1y61i_43",as="_icon_1y61i_55",cs="_meta_1y61i_69",is="_type_1y61i_85",ls="_buy_1y61i_99",ds="_sell_1y61i_109",us="_bottom_1y61i_119",ms="_left_1y61i_135",ps="_price_1y61i_147",hs="_amount_1y61i_149",xs="_total_1y61i_169",j={item:ss,top:ns,name:rs,nameWrapper:os,icon:as,meta:cs,type:is,buy:ls,sell:ds,bottom:us,left:ms,price:ps,amount:hs,total:xs};function fs({op:t}){const s=je(t.id);return e.jsxs("li",{className:j.item,children:[e.jsxs("div",{className:j.top,children:[e.jsxs("div",{className:j.nameWrapper,children:[s&&e.jsx("img",{src:s,alt:t.name,className:j.icon}),e.jsx("div",{className:j.name,children:t.name})]}),e.jsxs("div",{className:j.meta,children:[e.jsx("span",{className:`${j.type} ${t.type==="buy"?j.buy:j.sell}`,children:t.type==="buy"?"Куплено":"Продано"}),e.jsx("span",{className:j.date,children:new Date(t.date).toLocaleString()})]})]}),e.jsxs("div",{className:j.bottom,children:[e.jsxs("div",{className:j.left,children:[e.jsxs("div",{className:j.price,children:["$",t.price.toFixed(2)]}),e.jsxs("div",{className:j.amount,children:["× ",t.amount]})]}),e.jsxs("div",{className:j.total,children:["$",t.total.toFixed(2)]})]})]})}const _s="_list_8bfj5_1",js="_empty_8bfj5_65",ae={list:_s,empty:js};function gs({operations:t}){return t.length===0?e.jsx("p",{className:ae.empty,children:"Пока нет операций"}):e.jsx("ul",{className:ae.list,children:t.slice().reverse().map(s=>e.jsx(fs,{op:s},s.operationId))})}const ys="_grid_1bulh_1",bs="_card_1bulh_15",vs="_label_1bulh_23",ws="_value_1bulh_33",Ns="_positive_1bulh_45",ks="_negative_1bulh_53",z={grid:ys,card:bs,label:vs,value:ws,positive:Ns,negative:ks};function Cs({stats:t}){return e.jsx("div",{className:z.grid,children:t.map((s,n)=>e.jsxs("div",{className:z.card,children:[e.jsx("div",{className:z.label,children:s.label}),e.jsx("div",{className:`${z.value} ${s.highlight==="positive"?z.positive:s.highlight==="negative"?z.negative:""}`,children:s.value})]},n))})}const As="_page_ay3mz_1",Ds="_header_ay3mz_17",Ss="_operations_ay3mz_75",Z={page:As,header:Ds,operations:Ss};function zs(){const{totalSpent:t,totalEarned:s,netProfit:n,operationsCount:o}=te(),r=E(d=>d.operations),[a,c]=m.useState(r),i=[{label:"Потрачено",value:`$${t.toFixed(2)}`},{label:"Заработано",value:`$${s.toFixed(2)}`},{label:"Прибыль",value:`$${n.toFixed(2)}`,highlight:n>=0?"positive":"negative"},{label:"Операций",value:o.toString()}];return e.jsxs("div",{className:Z.page,children:[e.jsx("div",{className:Z.header,children:e.jsx("h1",{children:"Статистика операций"})}),e.jsx(Cs,{stats:i}),e.jsxs("section",{className:Z.operations,children:[e.jsx("h2",{children:"История операций"}),e.jsx($t,{operations:r,onFilterChange:c}),e.jsx(gs,{operations:a})]})]})}function Rs(t){const{cx:s=0,cy:n=0,innerRadius:o=0,outerRadius:r=0,startAngle:a=0,endAngle:c=0,fill:i="#000",payload:d,percent:l=0,value:u=0}=t;if(typeof window<"u"&&window.innerWidth<768)return e.jsxs("g",{children:[e.jsx(H,{cx:s,cy:n,innerRadius:o,outerRadius:r,startAngle:a,endAngle:c,fill:i}),e.jsx("text",{x:s,y:n,textAnchor:"middle",dy:-10,fill:i,fontSize:r*.16,children:d?.name}),e.jsx("text",{x:s,y:n,textAnchor:"middle",dy:12,fill:"#333",fontSize:r*.13,children:`${J(u)}$`}),e.jsx("text",{x:s,y:n,textAnchor:"middle",dy:28,fill:"#999",fontSize:r*.1,children:`(${(l*100).toFixed(1)}%)`})]});const f=(a+c)/2||0,g=Math.PI/180,p=Math.sin(-g*f),h=Math.cos(-g*f),x=s+(r+10)*h,P=n+(r+10)*p,T=s+(r+30)*h,se=n+(r+30)*p,B=T+(h>=0?1:-1)*22,M=se,ne=h>=0?"start":"end";return e.jsxs("g",{children:[e.jsx("text",{x:s,y:n,dy:8,textAnchor:"middle",fill:i,children:d?.name}),e.jsx(H,{cx:s,cy:n,innerRadius:o,outerRadius:r,startAngle:a,endAngle:c,fill:i}),e.jsx(H,{cx:s,cy:n,startAngle:a,endAngle:c,innerRadius:r+6,outerRadius:r+10,fill:i}),e.jsx("path",{d:`M${x},${P}L${T},${se}L${B},${M}`,stroke:i,fill:"none"}),e.jsx("circle",{cx:B,cy:M,r:2,fill:i,stroke:"none"}),e.jsx("text",{x:B+(h>=0?1:-1)*12,y:M,textAnchor:ne,fill:"#333",children:`${J(u)}$`}),e.jsx("text",{x:B+(h>=0?1:-1)*12,y:M,dy:18,textAnchor:ne,fill:"#999",children:`(${(l*100).toFixed(1)}%)`})]})}function Ps({data:t,width:s=650,height:n=650}){return e.jsx("div",{style:{width:"100%",maxWidth:s,aspectRatio:`${s} / ${n}`,margin:"0 auto"},children:e.jsx(de,{width:"100%",height:"100%",children:e.jsx(Oe,{children:e.jsx(Te,{activeShape:Rs,data:t,cx:"50%",cy:"50%",innerRadius:"40%",outerRadius:"55%",paddingAngle:2,dataKey:"value",focusable:!1,children:t.map((o,r)=>e.jsx(Be,{fill:oe[r%oe.length],focusable:!1},`cell-${r}`))})})})})}const Is="_card_md0yd_1",Fs="_cardHeader_md0yd_20",Ls="_icon_md0yd_34",Es="_assetName_md0yd_44",Os="_cardDetails_md0yd_58",Ts="_profit_md0yd_88",Bs="_loss_md0yd_100",S={card:Is,cardHeader:Fs,icon:Ls,assetName:Es,cardDetails:Os,profit:Ts,loss:Bs},Ms=({id:t,name:s,amount:n,avgPrice:o,currentValue:r,profit:a})=>{const c=je(t);return e.jsxs("div",{className:S.card,children:[e.jsxs("div",{className:S.cardHeader,children:[c&&e.jsx("img",{src:c,alt:s,className:S.icon}),e.jsx("span",{className:S.assetName,children:s})]}),e.jsxs("div",{className:S.cardDetails,children:[e.jsxs("span",{children:["Количество: ",e.jsx("b",{children:n})," шт. (средняя цена: ",G(o),")"]}),e.jsxs("span",{children:["Текущая стоимость: ",e.jsx("b",{children:G(r)})," ",e.jsxs("span",{className:a>=0?S.profit:S.loss,children:["(",a>=0?"+":"",G(a),")"]})]})]})]})},Ws="_wrapper_1u3io_1",Us="_page_1u3io_14",Xs="_chartWrapper_1u3io_20",$s="_chartColumn_1u3io_25",qs="_assetsColumn_1u3io_47",Ks="_list_1u3io_57",Ys="_empty_1u3io_66",Hs="_divider_1u3io_75",N={wrapper:Ws,page:Us,chartWrapper:Xs,chartColumn:$s,assetsColumn:qs,list:Ks,empty:Ys,divider:Hs};function Gs(){const{assetDistribution:t}=te(),s=m.useRef(50),n=m.useRef(50);return m.useEffect(()=>{let o=0;const r=c=>{const i=c.clientY/window.innerHeight*100;s.current=Math.min(70,Math.max(30,i))},a=()=>{n.current+=(s.current-n.current)*.02,document.documentElement.style.setProperty("--divider-gradient-pos",`${n.current}%`),o=requestAnimationFrame(a)};return window.addEventListener("mousemove",r),a(),()=>{window.removeEventListener("mousemove",r),o&&cancelAnimationFrame(o)}},[]),t.length===0?e.jsx("div",{className:N.page,children:e.jsx("p",{className:N.empty,children:"Портфель пока пуст"})}):e.jsx("div",{className:N.page,children:e.jsxs("div",{className:N.wrapper,children:[e.jsx("div",{className:N.chartWrapper,children:e.jsx("div",{className:N.chartColumn,children:e.jsx(Ps,{data:t})})}),e.jsx("div",{className:N.divider}),e.jsx("div",{className:N.assetsColumn,children:e.jsx("div",{className:N.list,children:t.map(o=>e.jsx(Ms,{id:o.id,name:o.name,amount:o.amount,avgPrice:o.avgPrice,currentValue:o.value,profit:o.profit},o.id))})})]})})}const Zs="_sidebar_1428q_1",Vs="_open_1428q_28",Js="_toggleButton_1428q_38",Qs="_stats_1428q_75",en="_row_1428q_96",tn="_links_1428q_131",sn="_bottom_1428q_176",nn="_overlay_1428q_204",k={sidebar:Zs,open:Vs,toggleButton:Js,stats:Qs,row:en,links:tn,bottom:sn,overlay:nn},rn="_overlay_1595s_1",on="_dialog_1595s_35",an="_message_1595s_46",cn="_buttons_1595s_58",X={overlay:rn,dialog:on,message:an,buttons:cn};function ln({message:t,onConfirm:s,onCancel:n}){const o=m.useRef(null),r=m.useId();m.useEffect(()=>{o.current?.querySelectorAll('button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])')?.[0]?.focus()},[]);const a=c=>{if(c.key==="Escape"){c.stopPropagation(),n();return}if(c.key!=="Tab")return;const i=o.current?.querySelectorAll('button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])');if(!i||i.length===0)return;const d=i[0],l=i[i.length-1],u=document.activeElement;if(c.shiftKey&&u===d){c.preventDefault(),l.focus();return}!c.shiftKey&&u===l&&(c.preventDefault(),d.focus())};return ge.createPortal(e.jsx("div",{className:X.overlay,onClick:n,onKeyDown:a,tabIndex:-1,children:e.jsxs("div",{className:X.dialog,onClick:c=>c.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":r,ref:o,children:[e.jsx("p",{className:X.message,id:r,children:t}),e.jsxs("div",{className:X.buttons,children:[e.jsx(A,{variant:"secondary",size:"md",onClick:n,children:"Отмена"}),e.jsx(A,{variant:"danger",size:"md",onClick:s,children:"Подтвердить"})]})]})}),document.body)}function dn(){const[t,s]=m.useState(!1),n=E(c=>c.reset),o=v(c=>c.setPrice),r=v(c=>c.setSelectedAsset),a=()=>{n(),Object.keys(v.getState().prices).forEach(c=>o(c,0)),r("bitcoin"),s(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(A,{variant:"danger",size:"md",onClick:()=>s(!0),children:"Сбросить игру"}),t&&e.jsx(ln,{message:"Вы точно хотите сбросить игру? Все данные будут потеряны.",onConfirm:a,onCancel:()=>s(!1)})]})}const un="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2012H20M4%208H20M4%2016H12'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function mn(){const t=v(me),[s,n]=m.useState(!1),o=pe.filter(r=>t[r]!==void 0).slice(0,5);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${k.overlay} ${s?k.open:""}`,onClick:()=>n(!1)}),e.jsxs("div",{className:`${k.sidebar} ${s?k.open:""}`,children:[e.jsxs("div",{className:k.stats,children:[e.jsx("h4",{children:"Актуальные цены"}),o.length===0?e.jsx("p",{children:"Нет данных"}):o.map(r=>e.jsxs("div",{className:k.row,children:[e.jsx("span",{children:O[r]||r}),e.jsxs("span",{children:["$",(t[r]||0).toFixed(2)]})]},r))]}),e.jsx("div",{className:k.links,children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(Y,{to:"/",children:"Рынок"})}),e.jsx("li",{children:e.jsx(Y,{to:"/portfolio",children:"Портфель"})}),e.jsx("li",{children:e.jsx(Y,{to:"/statistics",children:"Статистика"})})]})}),e.jsx("div",{className:k.bottom,children:e.jsx(dn,{})})]}),!s&&e.jsx("button",{className:k.toggleButton,onClick:()=>n(!0),children:e.jsx("img",{src:un,alt:"Menu"})})]})}const pn="_slider_t1ngz_22",hn="_thumb_t1ngz_40",V={switch:"_switch_t1ngz_1",slider:pn,thumb:hn};function xn({checked:t,onChange:s,className:n,onIcon:o,offIcon:r,ariaLabel:a}){return e.jsxs("label",{className:`${V.switch} ${n||""}`,children:[e.jsx("input",{type:"checkbox",checked:t,onChange:c=>s(c.target.checked),"aria-label":a}),e.jsx("span",{className:V.slider,children:e.jsx("span",{className:V.thumb,children:t?o:r})})]})}const fn="_layout_15ry2_1",_n="_topbar_15ry2_12",jn="_contentWrapper_15ry2_19",gn="_content_15ry2_19",yn="_footer_15ry2_38",L={layout:fn,topbar:_n,contentWrapper:jn,content:gn,footer:yn},bn="_stack_zr0he_1",vn="_snackbar_zr0he_11",wn="_slideIn_zr0he_1",Nn="_success_zr0he_30",kn="_error_zr0he_33",Cn="_info_zr0he_36",Q={stack:bn,snackbar:vn,slideIn:wn,success:Nn,error:kn,info:Cn};function An({item:t,onClose:s}){const{id:n,message:o,type:r,duration:a=5e3}=t;return m.useEffect(()=>{const c=setTimeout(()=>s(n),a);return()=>clearTimeout(c)},[n,a,s]),e.jsx("div",{className:`${Q.snackbar} ${Q[r]}`,children:e.jsx("span",{children:o})})}function Dn(){const{queue:t,removeSnackbar:s}=C();return e.jsx("div",{className:Q.stack,role:"status","aria-live":"polite",children:t.map(n=>e.jsx(An,{item:n,onClose:s},n.id))})}const Sn="_scene_wd8vl_1",zn="_grid_wd8vl_16",ce={scene:Sn,grid:zn};function Rn({variant:t="neutral"}){const s=m.useRef(null),n=m.useRef({x:0,y:0}),o=m.useRef({x:0,y:0}),r=m.useRef(null);return m.useEffect(()=>{const a=window.matchMedia("(prefers-reduced-motion: reduce)").matches,c=window.matchMedia("(hover: none), (pointer: coarse)").matches;if(a||c)return;const i=l=>{const u=l.clientX/window.innerWidth*2-1,_=l.clientY/window.innerHeight*2-1;n.current={x:u,y:_}},d=()=>{o.current.x+=(n.current.x-o.current.x)*.06,o.current.y+=(n.current.y-o.current.y)*.06;const l=s.current;l&&(l.style.setProperty("--px",o.current.x.toFixed(3)),l.style.setProperty("--py",o.current.y.toFixed(3))),r.current=requestAnimationFrame(d)};return window.addEventListener("pointermove",i),d(),()=>{window.removeEventListener("pointermove",i),r.current&&cancelAnimationFrame(r.current)}},[]),e.jsx("div",{ref:s,className:ce.scene,"data-variant":t,"aria-hidden":"true",children:e.jsx("div",{className:ce.grid})})}function Pn(){const{theme:t,toggleTheme:s}=he(),{showSnackbar:n}=C();return m.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]),m.useEffect(()=>{localStorage.getItem("visited")||(n("Добро пожаловать!","success"),localStorage.setItem("visited","true"))},[n]),e.jsxs("div",{className:L.layout,children:[e.jsx(Rn,{}),e.jsx(mn,{}),e.jsx("div",{className:L.topbar,children:e.jsx(xn,{checked:t==="dark",onChange:s,onIcon:e.jsx(be,{size:12}),offIcon:e.jsx(ye,{size:12}),ariaLabel:"Переключить тему"})}),e.jsxs("div",{className:L.contentWrapper,children:[e.jsx("main",{className:L.content,children:e.jsx(ve,{})}),e.jsx("footer",{className:L.footer,children:"Все права защищены"})]}),e.jsx(Dn,{})]})}const In="_wrapper_prcw4_1",Fn="_content_prcw4_14",Ln="_code_prcw4_19",En="_text_prcw4_27",On="_subtext_prcw4_33",Tn="_graph_prcw4_39",Bn="_line_prcw4_50",b={wrapper:In,content:Fn,code:Ln,text:En,subtext:On,graph:Tn,line:Bn};function Mn(){const t=we();return e.jsxs("div",{className:b.wrapper,children:[e.jsxs("div",{className:b.content,children:[e.jsx("h1",{className:b.code,children:"404"}),e.jsx("p",{className:b.text,children:"Упс! Похоже, этой страницы не существует..."}),e.jsx("p",{className:b.subtext,children:"Может быть, вы заблудились в финансовых графиках?"}),e.jsx(A,{variant:"primary",onClick:()=>t("/"),children:"Вернуться домой"})]}),e.jsxs("div",{className:b.graph,children:[e.jsx("span",{className:b.line}),e.jsx("span",{className:b.line}),e.jsx("span",{className:b.line}),e.jsx("span",{className:b.line}),e.jsx("span",{className:b.line}),e.jsx("span",{className:b.line})]})]})}const Wn=()=>{const{showSnackbar:t}=C(),s=m.useRef(null),n=ie({queryKey:["prices"],queryFn:at,staleTime:6e4,refetchInterval:6e4,retry:1});return m.useEffect(()=>{if(!n.isError){s.current=null;return}const o=n.error instanceof Error?n.error.message:"Ошибка при загрузке данных";s.current!==o&&(s.current=o,t(o,"error"))},[n.isError,n.error,t]),n},Un=()=>{const t=v(n=>n.setPrices),{data:s}=Wn();return m.useEffect(()=>{if(!s)return;const n=Object.fromEntries(Object.entries(s).map(([o,{usd:r}])=>[o,r]));t({...n,usd:1})},[s,t]),s};function Xn(){return Un(),e.jsx(Ne,{children:e.jsx(ke,{children:e.jsxs(I,{path:"/",element:e.jsx(Pn,{}),children:[e.jsx(I,{index:!0,element:e.jsx(zt,{})}),e.jsx(I,{path:"statistics",element:e.jsx(zs,{})}),e.jsx(I,{path:"portfolio",element:e.jsx(Gs,{})}),e.jsx(I,{path:"*",element:e.jsx(Mn,{})})]})})})}const $n=new De;Ce.createRoot(document.getElementById("root")).render(e.jsx(Ae,{client:$n,children:e.jsx(Xn,{})}));

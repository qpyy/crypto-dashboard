const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PieChart-M_MilN6N.js","assets/index-CxY2Q9c1.js","assets/index-B4xW3sFB.css","assets/format-4LxHVCiI.js","assets/colors-BOM4XEf5.js"])))=>i.map(i=>d[i]);
import{j as e,r as o,_ as p}from"./index-CxY2Q9c1.js";import{u}from"./useStatistics-sdyndxuz.js";import{g as v}from"./icons-CLJUmBxH.js";import{f as h}from"./format-4LxHVCiI.js";const x="_card_1bh64_1",j="_cardHeader_1bh64_20",b="_icon_1bh64_34",f="_assetName_1bh64_44",N="_shortBadge_1bh64_51",g="_cardDetails_1bh64_64",k="_profit_1bh64_94",y="_loss_1bh64_106",r={card:x,cardHeader:j,icon:b,assetName:f,shortBadge:N,cardDetails:g,profit:k,loss:y},C=({id:c,name:n,amount:i,avgPrice:m,currentValue:s,profit:t,isShort:d})=>{const l=v(c);return e.jsxs("div",{className:r.card,children:[e.jsxs("div",{className:r.cardHeader,children:[l&&e.jsx("img",{src:l,alt:n,className:r.icon}),e.jsx("span",{className:r.assetName,children:n}),d&&e.jsx("span",{className:r.shortBadge,children:"Шорт"})]}),e.jsxs("div",{className:r.cardDetails,children:[e.jsxs("span",{children:["Количество: ",e.jsx("b",{children:i})," шт. (средняя цена: ",h(m),")"]}),e.jsxs("span",{children:["Текущая стоимость: ",e.jsx("b",{children:h(s)})," ",e.jsxs("span",{className:t>=0?r.profit:r.loss,children:["(",t>=0?"+":"",h(t),")"]})]})]})]})},w="_wrapper_7bhk8_1",E="_page_7bhk8_14",S="_chartWrapper_7bhk8_20",D="_chartColumn_7bhk8_25",P="_chartSkeleton_7bhk8_39",M="_assetsColumn_7bhk8_62",A="_list_7bhk8_72",H="_empty_7bhk8_81",B="_divider_7bhk8_90",a={wrapper:w,page:E,chartWrapper:S,chartColumn:D,chartSkeleton:P,assetsColumn:M,list:A,empty:H,divider:B},R=o.lazy(()=>p(()=>import("./PieChart-M_MilN6N.js"),__vite__mapDeps([0,1,2,3,4])));function F(){const{assetDistribution:c}=u(),n=o.useRef(50),i=o.useRef(50);if(o.useEffect(()=>{let s=0;const t=l=>{const _=l.clientY/window.innerHeight*100;n.current=Math.min(70,Math.max(30,_))},d=()=>{i.current+=(n.current-i.current)*.02,document.documentElement.style.setProperty("--divider-gradient-pos",`${i.current}%`),s=requestAnimationFrame(d)};return window.addEventListener("mousemove",t),d(),()=>{window.removeEventListener("mousemove",t),s&&cancelAnimationFrame(s)}},[]),c.length===0)return e.jsx("div",{className:a.page,children:e.jsx("p",{className:a.empty,children:"Портфель пока пуст"})});const m=c.map(s=>({...s,value:Math.abs(s.value)}));return e.jsx("div",{className:a.page,children:e.jsxs("div",{className:a.wrapper,children:[e.jsx("div",{className:a.chartWrapper,children:e.jsx("div",{className:a.chartColumn,children:e.jsx(o.Suspense,{fallback:e.jsx("div",{className:a.chartSkeleton}),children:e.jsx(R,{data:m})})})}),e.jsx("div",{className:a.divider}),e.jsx("div",{className:a.assetsColumn,children:e.jsx("div",{className:a.list,children:c.map(s=>e.jsx(C,{id:s.id,name:s.name,amount:Math.abs(s.amount),avgPrice:s.avgPrice,currentValue:s.value,profit:s.profit,isShort:s.amount<0},s.id))})})]})})}export{F as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PieChart-QYZYymQi.js","assets/index-D3IqNoI3.js","assets/index-B4xW3sFB.css","assets/format-4LxHVCiI.js","assets/colors-7KqRPQvr.js"])))=>i.map(i=>d[i]);
import{j as e,r as o,_ as p}from"./index-D3IqNoI3.js";import{u as h}from"./useStatistics-D4aB-ld5.js";import{g as u}from"./icons-CLJUmBxH.js";import{f as m}from"./format-4LxHVCiI.js";const v="_card_md0yd_1",x="_cardHeader_md0yd_20",j="_icon_md0yd_34",f="_assetName_md0yd_44",N="_cardDetails_md0yd_58",y="_profit_md0yd_88",g="_loss_md0yd_100",r={card:v,cardHeader:x,icon:j,assetName:f,cardDetails:N,profit:y,loss:g},k=({id:c,name:n,amount:i,avgPrice:s,currentValue:d,profit:t})=>{const l=u(c);return e.jsxs("div",{className:r.card,children:[e.jsxs("div",{className:r.cardHeader,children:[l&&e.jsx("img",{src:l,alt:n,className:r.icon}),e.jsx("span",{className:r.assetName,children:n})]}),e.jsxs("div",{className:r.cardDetails,children:[e.jsxs("span",{children:["Количество: ",e.jsx("b",{children:i})," шт. (средняя цена: ",m(s),")"]}),e.jsxs("span",{children:["Текущая стоимость: ",e.jsx("b",{children:m(d)})," ",e.jsxs("span",{className:t>=0?r.profit:r.loss,children:["(",t>=0?"+":"",m(t),")"]})]})]})]})},b="_wrapper_7bhk8_1",C="_page_7bhk8_14",w="_chartWrapper_7bhk8_20",E="_chartColumn_7bhk8_25",P="_chartSkeleton_7bhk8_39",S="_assetsColumn_7bhk8_62",D="_list_7bhk8_72",A="_empty_7bhk8_81",H="_divider_7bhk8_90",a={wrapper:b,page:C,chartWrapper:w,chartColumn:E,chartSkeleton:P,assetsColumn:S,list:D,empty:A,divider:H},M=o.lazy(()=>p(()=>import("./PieChart-QYZYymQi.js"),__vite__mapDeps([0,1,2,3,4])));function Y(){const{assetDistribution:c}=h(),n=o.useRef(50),i=o.useRef(50);return o.useEffect(()=>{let s=0;const d=l=>{const _=l.clientY/window.innerHeight*100;n.current=Math.min(70,Math.max(30,_))},t=()=>{i.current+=(n.current-i.current)*.02,document.documentElement.style.setProperty("--divider-gradient-pos",`${i.current}%`),s=requestAnimationFrame(t)};return window.addEventListener("mousemove",d),t(),()=>{window.removeEventListener("mousemove",d),s&&cancelAnimationFrame(s)}},[]),c.length===0?e.jsx("div",{className:a.page,children:e.jsx("p",{className:a.empty,children:"Портфель пока пуст"})}):e.jsx("div",{className:a.page,children:e.jsxs("div",{className:a.wrapper,children:[e.jsx("div",{className:a.chartWrapper,children:e.jsx("div",{className:a.chartColumn,children:e.jsx(o.Suspense,{fallback:e.jsx("div",{className:a.chartSkeleton}),children:e.jsx(M,{data:c})})})}),e.jsx("div",{className:a.divider}),e.jsx("div",{className:a.assetsColumn,children:e.jsx("div",{className:a.list,children:c.map(s=>e.jsx(k,{id:s.id,name:s.name,amount:s.amount,avgPrice:s.avgPrice,currentValue:s.value,profit:s.profit},s.id))})})]})})}export{Y as default};

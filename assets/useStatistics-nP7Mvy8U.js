import{b as p,u as P,g,r as b}from"./index-AcHV8F_K.js";const y=()=>{const e=p(o=>o.operations),r=p(o=>o.portfolio),a=P(g);return b.useMemo(()=>{let o=0,n=0;for(const t of e)t.type==="buy"&&(o+=t.total),t.type==="sell"&&(n+=t.total);const f=r.find(t=>t.id==="usd")?.amount||0,s=r.filter(t=>t.id!=="usd").map(t=>{const i=a[t.id]||0,l=t.amount*i,m=l-t.amount*t.avgPrice;return{id:t.id,name:t.name,value:l,profit:m,amount:t.amount,avgPrice:t.avgPrice}}),c=s.reduce((t,i)=>t+i.profit,0),u=n-o,d=u+c;return{totalSpent:o,totalEarned:n,balance:f,realizedProfit:u,unrealizedProfit:c,netProfit:d,operationsCount:e.length,assetDistribution:s}},[e,r,a])};export{y as u};
